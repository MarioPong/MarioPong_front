<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Store</title>
  <link rel="stylesheet" href="css/style_store.css" />
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>

<body>
  <button class="back-btn" onclick="goBack()">← Back</button>
  <div class="store-bg">
    <div class="store-card">
      <div class="store-header">
        <span class="store-title">Store</span>
        <div class="store-coin-box">
          <img src="img/coin.png" alt="coin" class="store-coin" />
          <span class="store-coin-amount" id="coinAmount">0</span>
        </div>
      </div>
      <div class="store-characters" id="characterList">
        <!-- JS will render character cards here -->
      </div>
    </div>
  </div>
  <script>
    function goBack() {
      window.location.href = 'main.html';
    }
    // 임시 데이터 (나중에 서버에서 받아올 예정)
    const user = {
      coins: 500,
      owned: ['mario']
    };
    const characters = [
      { key: 'mario', name: 'Mario', img: 'img/mario.png', price: 0 },
      { key: 'yoshi', name: 'Yoshi', img: 'img/yoshi.png', price: 700 },
      { key: 'donkikong', name: 'Donkikong', img: 'img/donkikong.png', price: 1000 },
      { key: 'kinopio', name: '???', img: null, price: 1200 },
      { key: '???', name: '???', img: null, price: 1500 },
      { key: 'peach', name: '???', img: null, price: 2000 }
    ];
    document.getElementById('coinAmount').textContent = user.coins;
    const list = document.getElementById('characterList');
    characters.forEach(char => {
      const owned = user.owned.includes(char.key);
      const card = document.createElement('div');
      card.className = 'character-card';
      card.innerHTML = `
        <div class="character-img-box">
          ${char.img ? `<img src="${char.img}" alt="${char.name}" class="character-img" />` : `<div class='character-placeholder'>?</div>`}
        </div>
        <div class="character-footer ${owned ? 'owned' : 'not-owned'}">
          ${owned ? '<span class="owned-label">Owned</span>' : `<img src='img/coin.png' class='footer-coin'/> <span class='price'>${char.price}</span>`}
        </div>
      `;
      list.appendChild(card);
    });
  </script>
</body>

</html>